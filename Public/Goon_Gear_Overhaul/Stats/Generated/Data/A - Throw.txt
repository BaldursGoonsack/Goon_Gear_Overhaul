
// ==================================== Finesse throwing for all, to an extent ====================================

new entry "Goon_Finesse_Throwing_Overhaul_Passive"
type "PassiveData"
// It's the best I can do
data "Properties" "IsHidden"
data "BoostConditions" "IsDexterityGreaterThanStrength() and IsRangedUnarmedAttack() and HasWeaponProperty(WeaponProperties.Finesse)"
data "Boosts" "MonkWeaponAttackOverride()"

// ==================================== Throw overhaul ====================================

// Mine
new entry "Throw_Throw"
type "SpellData"
data "SpellType" "Throw"
using "Throw_Throw"
// data "SpellProperties" "GROUND:DealDamage(1,Bludgeoning);TARGET:IF(HasStatus('MAG_PROJECTILE_SHOES_TECHNICAL', context.HitDescription.ThrownObject)):DealDamage(2d4, Psychic,Magical,,0,,true);TARGET:IF(HasStatus('MAG_THE_THORNS_WEAPON_BOND', context.HitDescription.ThrownObject)):ApplyStatus(MAG_THE_THORNS_AOE_DAMAGE_TECHNICAL, 100, 0);TARGET:IF(HasStatus('MAG_FIRE_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Fire,Magical,,0,,true);TARGET:IF(HasStatus('MAG_COLD_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Cold,Magical,,0,,true);TARGET:IF(HasStatus('MAG_LIGHTNING_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Lightning,Magical,,0,,true);TARGET:IF(HasStatus('MAG_THUNDER_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Thunder,Magical,,0,,true);TARGET:IF(HasStatus('MAG_ACID_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Acid,Magical,,0,,true);TARGET:IF(HasStatus('MAG_POISON_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Poison,Magical,,0,,true);TARGET:IF(HasStatus('MAG_NECROTIC_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Necrotic,Magical,,0,,true);TARGET:IF(HasStatus('MAG_FORCE_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Force,Magical,,0,,true);TARGET:IF(HasStatus('MAG_PSYCHIC_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Psychic,Magical,,0,,true);TARGET:IF((HasStatus('BURNING', context.HitDescription.ThrownObject) or HasStatus('FLAMING_SPHERE_AURA', context.HitDescription.ThrownObject))):ApplyStatus(SELF, BURNING,100,1)"
data "SpellProperties" "GROUND:DealDamage(1,Bludgeoning);TARGET:IF(Goon_Slinging_Shoes_Throw(context.HitDescription.ThrownObject)):DealDamage(2d4,Psychic,Magical,,0,,true);TARGET:IF(Goon_Nyrulna_Throw(context.HitDescription.ThrownObject)):ApplyStatus(MAG_THE_THORNS_AOE_DAMAGE_TECHNICAL,100,0);TARGET:IF(Goon_d4_Fire_Throw(context.HitDescription.ThrownObject)):DealDamage(1d4,Fire);TARGET:IF(Goon_d4_Cold_Throw(context.HitDescription.ThrownObject)):DealDamage(1d4);TARGET:IF(Goon_d4_Lightning_Throw(context.HitDescription.ThrownObject)):DealDamage(1d4,Lightning);TARGET:IF(Goon_d4_Thunder_Throw(context.HitDescription.ThrownObject)):DealDamage(1d4,Thunder);TARGET:IF(Goon_d4_Acid_Throw(context.HitDescription.ThrownObject)):DealDamage(1d4,Acid);TARGET:IF(Goon_d4_Poison_Throw(context.HitDescription.ThrownObject)):DealDamage(1d4,Poison);TARGET:IF(Goon_d4_Necrotic_Throw(context.HitDescription.ThrownObject)):DealDamage(1d4,Necrotic);TARGET:IF(Goon_d4_Force_Throw(context.HitDescription.ThrownObject)):DealDamage(1d4,Force);TARGET:IF(Goon_d4_Psychic_Throw(context.HitDescription.ThrownObject)):DealDamage(1d4, Psychic);TARGET:IF(Goon_Burning_Throw(context.HitDescription.ThrownObject)):ApplyStatus(SELF,BURNING,100,1);TARGET:IF(Goon_d4_Radiant_Throw(context.HitDescription.ThrownObject)):DealDamage(1d4,Radiant);TARGET:IF(Goon_d8_Radiant_Throw(context.HitDescription.ThrownObject)):DealDamage(1d8,Radiant);TARGET:IF(Goon_d6_Poison_Throw(context.HitDescription.ThrownObject)):DealDamage(1d6,Poison);TARGET:IF(Goon_d8_Poison_Throw(context.HitDescription.ThrownObject)):DealDamage(1d8,Poison);TARGET:IF(Goon_d10_Poison_Throw(context.HitDescription.ThrownObject)):DealDamage(1d10,Poison);TARGET:IF(Goon_Drow_Poison_Throw(context.HitDescription.ThrownObject)):ApplyStatus(POISON_DROW_TECHNICAL_APPLIER,100,0);TARGET:IF(Goon_Basic_Poison_Throw(context.HitDescription.ThrownObject)):ApplyStatus(POISON_SIMPLE_TECHNICAL_APPLIER,100,0)"
// data "ThrowableTargetConditions" "CanThrowWeight() and not Grounded() and not IsItemDisabled() and not HasAttribute('InventoryBound') and (IsMovable() or Character() or Dead()) and CanMove(context.Target, context.Source, false) and (not IsEquipped() or IsEquipmentSlot(EquipmentSlot.MeleeMainHand) or IsEquipmentSlot(EquipmentSlot.MeleeOffHand) or IsEquipmentSlot(EquipmentSlot.Boots)) and not Tagged('CANT_SHOVE_THROW')"
data "ThrowableTargetConditions" "CanThrowWeight() and not Grounded() and not IsItemDisabled() and not HasAttribute('InventoryBound') and (IsMovable() or Character() or Dead()) and CanMove(context.Target, context.Source, false) and (not IsEquipped() or IsEquipmentSlot(EquipmentSlot.MeleeMainHand) or IsEquipmentSlot(EquipmentSlot.MeleeOffHand) or IsEquipmentSlot(EquipmentSlot.Boots)) and not Tagged('CANT_SHOVE_THROW')"
// data "Trajectories" "rules:861d0046-1858-401e-b97b-28f7b3e3e89a,d5e54f29-f80f-4105-96b2-23b5af9321c7,bac38aab-dfa7-4a5a-9c2a-552b0b626ee3"
data "Trajectories" "ff93ba9c-124c-454e-ac8c-436c136bcef2,75d615be-9277-6e22-6c17-fa51981d7560,8c00238b-549d-dc71-8fcb-42ba68bae142"

// VEO
// type "SpellData"
// data "SpellType" "Throw"
// data "TargetFloor" "-1"
// data "TargetRadius" "ThrownObjectRange"
// data "AreaRadius" "1"
// data "SpellProperties" "GROUND:DealDamage(1,Bludgeoning);IF(HasStatus('MAG_PROJECTILE_SHOES_TECHNICAL', context.HitDescription.ThrownObject)):DealDamage(2d4, Psychic);TARGET:IF(HasStatus('MAG_THE_THORNS_WEAPON_BOND', context.HitDescription.ThrownObject)):ApplyStatus(MAG_THE_THORNS_AOE_DAMAGE_TECHNICAL, 100, 0);TARGET:IF(HasStatus('MAG_FIRE_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Fire);TARGET:IF(HasStatus('MAG_COLD_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Cold);TARGET:IF(HasStatus('MAG_LIGHTNING_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Lightning);TARGET:IF(HasStatus('MAG_THUNDER_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Thunder);TARGET:IF(HasStatus('MAG_ACID_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Acid);TARGET:IF(HasStatus('MAG_POISON_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Poison);TARGET:IF(HasStatus('MAG_NECROTIC_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Necrotic);TARGET:IF(HasStatus('MAG_FORCE_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Force);TARGET:IF(HasStatus('MAG_PSYCHIC_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Psychic);TARGET:IF((HasStatus('BURNING', context.HitDescription.ThrownObject) or HasStatus('FLAMING_SPHERE_AURA', context.HitDescription.ThrownObject))):ApplyStatus(SELF, BURNING,100,1)"

// Dude's
// new entry "Throw_Throw"
// type "SpellData"
// data "SpellType" "Throw"
// using "Throw_Throw"
// data "SpellProperties" "GROUND:DealDamage(1,Bludgeoning);TARGET:IF(Goon_Slinging_Shoes_Throw(context.HitDescription.ThrownObject)):DealDamage(2d4, Psychic,Magical,,0,,true);TARGET:IF(Goon_Nyrulna_Throw(context.HitDescription.ThrownObject)):ApplyStatus(MAG_THE_THORNS_AOE_DAMAGE_TECHNICAL, 100, 0);TARGET:IF((HasStatus('MAG_FIRE_THROW', context.HitDescription.ThrownObject) or HasStatus('DIPPED_FIRE', context.HitDescription.ThrownObject) or HasStatus('ELEMENTAL_WEAPON_FIRE', context.HitDescription.ThrownObject))):DealDamage(1d4, Fire,Magical,,0,,true);TARGET:IF((HasStatus('MAG_COLD_THROW', context.HitDescription.ThrownObject) or HasStatus('MAG_FROST_FROST_WEAPON', context.HitDescription.ThrownObject) or HasStatus('MAG_FROST_FROST_SMALL_WEAPON', context.HitDescription.ThrownObject) or HasStatus('ELEMENTAL_WEAPON_COLD', context.HitDescription.ThrownObject))):DealDamage(1d4, Cold,Magical,,0,,true);TARGET:IF((HasStatus('MAG_LIGHTNING_THROW', context.HitDescription.ThrownObject) or HasStatus('ELEMENTAL_WEAPON_LIGHTNING', context.HitDescription.ThrownObject))):DealDamage(1d4, Lightning,Magical,,0,,true);TARGET:IF((HasStatus('MAG_THUNDER_THROW', context.HitDescription.ThrownObject) or HasStatus('MAG_THUNDER_THUNDER_WEAPON', context.HitDescription.ThrownObject) or HasStatus('ELEMENTAL_WEAPON_THUNDER', context.HitDescription.ThrownObject))):DealDamage(1d4, Thunder,Magical,,0,,true);TARGET:IF((HasStatus('MAG_ACID_THROW', context.HitDescription.ThrownObject) or HasStatus('ELEMENTAL_WEAPON_ACID', context.HitDescription.ThrownObject))):DealDamage(1d4, Acid,Magical,,0,,true);TARGET:IF(HasStatus('MAG_RADIANT_RADIANCE_WEAPON', context.HitDescription.ThrownObject)):DealDamage(1d4, Radiant,Magical,,0,,true);TARGET:IF((HasStatus('MAG_POISON_THROW', context.HitDescription.ThrownObject) or HasStatus('DIPPED_POISON', context.HitDescription.ThrownObject) or HasStatus('POISON_SIMPLE_DIPPED', context.HitDescription.ThrownObject) or HasStatus('ALCH_TOXIN_BASIC_DIPPED', context.HitDescription.ThrownObject) or HasStatus('ELEMENTAL_WEAPON_POISON', context.HitDescription.ThrownObject))):DealDamage(1d4, Poison,Magical,,0,,true);TARGET:IF((HasStatus('TOXIN_SERPENTVENOM_DIPPED', context.HitDescription.ThrownObject) or HasStatus('MAG_DIPPED_POISON_BROODMOTHERS_REVENGE',context.HitDescription.ThrownObject))):DealDamage(1d6, Poison,Magical,,0,,true);TARGET:IF(HasStatus('TOXIN_WYVERN_DIPPED', context.HitDescription.ThrownObject)):DealDamage(1d8, Poison,Magical,,0,,true);TARGET:IF(HasStatus('TOXIN_PURPLEWORM_DIPPED', context.HitDescription.ThrownObject)):DealDamage(1d10, Poison,Magical,,0,,true);TARGET:IF((HasStatus('MAG_NECROTIC_THROW', context.HitDescription.ThrownObject) or HasStatus('MAG_NECROTIC_NECROTIC_WEAPON', context.HitDescription.ThrownObject) or HasStatus('ELEMENTAL_WEAPON_NECROTIC', context.HitDescription.ThrownObject))):DealDamage(1d4, Necrotic,Magical,,0,,true);TARGET:IF((HasStatus('MAG_FORCE_THROW', context.HitDescription.ThrownObject) or HasStatus('ELEMENTAL_WEAPON_FORCE', context.HitDescription.ThrownObject))):DealDamage(1d4, Force,Magical,,0,,true);TARGET:IF((HasStatus('MAG_PSYCHIC_THROW', context.HitDescription.ThrownObject) or HasStatus('ELEMENTAL_WEAPON_PSYCHIC', context.HitDescription.ThrownObject))):DealDamage(1d4, Psychic,Magical,,0,,true);TARGET:IF((HasStatus('BURNING', context.HitDescription.ThrownObject) or HasStatus('FLAMING_SPHERE_AURA', context.HitDescription.ThrownObject))):ApplyStatus(SELF, BURNING,100,1)"

// Vanilla
// new entry "Throw_Throw"
// type "SpellData"
// data "SpellType" "Throw"
// data "TargetFloor" "-1"
// data "TargetRadius" "ThrownObjectRange"
// data "AreaRadius" "1"
// data "SpellProperties" "GROUND:DealDamage(1,Bludgeoning);TARGET:IF(HasStatus('MAG_PROJECTILE_SHOES_TECHNICAL', context.HitDescription.ThrownObject)):DealDamage(2d4, Psychic,Magical,,0,,true);TARGET:IF(HasStatus('MAG_THE_THORNS_WEAPON_BOND', context.HitDescription.ThrownObject)):ApplyStatus(MAG_THE_THORNS_AOE_DAMAGE_TECHNICAL, 100, 0);TARGET:IF(HasStatus('MAG_FIRE_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Fire,Magical,,0,,true);TARGET:IF(HasStatus('MAG_COLD_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Cold,Magical,,0,,true);TARGET:IF(HasStatus('MAG_LIGHTNING_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Lightning,Magical,,0,,true);TARGET:IF(HasStatus('MAG_THUNDER_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Thunder,Magical,,0,,true);TARGET:IF(HasStatus('MAG_ACID_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Acid,Magical,,0,,true);TARGET:IF(HasStatus('MAG_POISON_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Poison,Magical,,0,,true);TARGET:IF(HasStatus('MAG_NECROTIC_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Necrotic,Magical,,0,,true);TARGET:IF(HasStatus('MAG_FORCE_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Force,Magical,,0,,true);TARGET:IF(HasStatus('MAG_PSYCHIC_THROW', context.HitDescription.ThrownObject)):DealDamage(1d4, Psychic,Magical,,0,,true);TARGET:IF((HasStatus('BURNING', context.HitDescription.ThrownObject) or HasStatus('FLAMING_SPHERE_AURA', context.HitDescription.ThrownObject))):ApplyStatus(SELF, BURNING,100,1)"
// data "SpellRoll" "Attack(AttackType.RangedUnarmedAttack)"
// data "SpellSuccess" "TARGET:IF(IsLightThrownObject(context.HitDescription.ThrownObject, false)):DealDamage(1,Bludgeoning);TARGET:IF(IsMediumThrownObject(context.HitDescription.ThrownObject, false)):DealDamage(1d4,Bludgeoning);TARGET:IF(IsHeavyThrownObject(context.HitDescription.ThrownObject, false)):DealDamage(2d4,Bludgeoning);TARGET:IF(HasWeaponProperty(WeaponProperties.Thrown,context.HitDescription.ThrownObject)):DealDamage(ThrownWeapon, ThrownWeaponDamageType);TARGET:IF(HasWeightGreaterThan(context.Target.Weight/2, context.HitDescription.ThrownObject)):Force(2);TARGET:IF(HasWeightGreaterThan(context.Target.Weight, context.HitDescription.ThrownObject)):ApplyStatus(PRONE,100,1);TARGET:IF(Tagged('BOO',context.HitDescription.ThrownObject)):ApplyStatus(BLINDED,100,1,,,,not SavingThrow(Ability.Dexterity, 15));TARGET:IF(Tagged('DWARF', context.Source) and HasStatus('MAG_DWARVEN_THROWER_TECHNICAL', context.HitDescription.ThrownObject) and not SizeEqualOrGreater(Size.Large)):DealDamage(1d8, Bludgeoning,Magical,,0,,true);TARGET:IF(Tagged('DWARF', context.Source) and HasStatus('MAG_DWARVEN_THROWER_TECHNICAL', context.HitDescription.ThrownObject) and SizeEqualOrGreater(Size.Large)):DealDamage(2d8, Bludgeoning,Magical,,0,,true);IF(HasWeaponProperty(WeaponProperties.Thrown,context.HitDescription.ThrownObject) and HasStatus('HUNTERS_MARK',context.Target,context.Source)):DealDamage(1d6, ThrownWeaponDamageType,Magical,,0,,true)"
// data "TargetConditions" "not Self()"
// data "ThrowableSpellRoll" "ThrowableCheck()"
// data "ThrowableSpellSuccess" "IF(Character()):ApplyStatus(PRONE_AFTER_THROW,100,1);"
// data "ThrowableTargetConditions" "CanThrowWeight() and not Grounded() and not IsItemDisabled() and not HasAttribute('InventoryBound') and (IsMovable() or Character() or Dead()) and CanMove(context.Target, context.Source, false) and (not IsEquipped() or IsEquipmentSlot(EquipmentSlot.MeleeMainHand) or IsEquipmentSlot(EquipmentSlot.MeleeOffHand) or IsEquipmentSlot(EquipmentSlot.Boots)) and not Tagged('CANT_SHOVE_THROW')"
// data "Template" "a82d0147-9ecd-455a-a9ef-c6d2b8119777"
// data "Trajectories" "rules:861d0046-1858-401e-b97b-28f7b3e3e89a,d5e54f29-f80f-4105-96b2-23b5af9321c7,bac38aab-dfa7-4a5a-9c2a-552b0b626ee3"
// data "Icon" "Action_Throw"
// // Throw
// data "DisplayName" "he979ae26gea8ag4a0ega117g0405aba2f4ea;1"
// // Throw a character or item from the world or your inventory.
// data "Description" "hd5df3dd1g9182g4439g9577g48f51d20839f;9"
// // Your Strength affects how much weight you can throw. Heavier items deal more damage. The damage of Thrown Weapons is the same as the weapon's melee damage.
// data "ExtraDescription" "h9669b3d4g87f8g4b02gbe44g25a16b6f1fe4;1"
// data "PrepareSound" "Generic_GeneralAction_Start"
// data "PrepareLoopSound" "Generic_GeneralAction_Loop"
// data "PreviewCursor" "Cast"
// data "CastTextEvent" "Cast"
// data "UseCosts" "ActionPoint:1"
// data "SpellAnimation" "b1befe57-ee3e-4126-8c9d-3b6cec7eb3f4,,;f2803838-31cf-471b-85d1-92fa2d0eb7c2,,;4be0751c-9fca-4c35-9337-6bf8a321c516,,;86b52093-596c-4054-bb1d-2dbdfcdc4347,,;5b4905be-03fd-42fb-9652-c2d1c772f4d3,,;9673b7c5-9928-44ce-ae4f-a85be2683981,,;e81ffae4-6be0-47fd-8502-48b9961004e9,,;,,;,,"
// data "VerbalIntent" "Utility"
// data "SpellFlags" "InventorySelection;RangeIgnoreVerticalThreshold;IsHarmful;HasHighGroundRangeExtension;IgnoreSilence;IgnoreVisionBlock;AddFallDamageOnLand;AbortOnSecondarySpellRollFail;CombatLogSetSingleLineRoll"
// data "SpellActionType" "Throw"
// data "HitAnimationType" "MagicalDamage_External"
// data "PrepareEffect" "ede0c318-7f5d-43b4-bc73-a50e0a528d55"
// data "SpellAnimationType" "Throwing"
// data "DamageType" "Bludgeoning"
// data "SpellSoundMagnitude" "Small"
// data "Sheathing" "Sheathed"